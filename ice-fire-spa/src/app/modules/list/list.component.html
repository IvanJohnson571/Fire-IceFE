<div class="list-container">
  <div class="search-bar">
    <mat-form-field appearance="outline" class="search-field">
      <mat-icon matPrefix>search</mat-icon>
      <input matInput
             placeholder="Search by title"
             [(ngModel)]="searchTerm"
             (input)="onSearchChange()" />
      <button *ngIf="searchTerm"
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSearch()">
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
  </div>

  <div class="list-wrapper">
    <mat-card *ngFor="let book of filteredBooks"
              class="book-card"
              (click)="openDetail(book)">
      <mat-icon class="favorite-icon"
                (click)="toggleFavorite(book, $event)"
                [ngClass]="{ 'active': isFavorite(book) }"
                [matTooltip]="
          isFavorite(book)
            ? 'Remove from favorites'
            : 'Add to favorites'
        "
                matTooltipPosition="above"
                matTooltipShowDelay="300"
                matTooltipHideDelay="100">
        star
      </mat-icon>

      <mat-card-title>{{ book.name }}</mat-card-title>
      <mat-card-content>
        <p><strong>Author:</strong> {{ book.authors.join(', ') }}</p>
        <p><strong>Released:</strong> {{ book.released | date }}</p>
      </mat-card-content>
    </mat-card>
  </div>
</div>
